<div id="experiencia">
  <!---------------------------------Modal------------------------------>

  <div
    class="modal fade"
    id="experienciaForm"
    tabindex="-1"
    aria-labelledby="experienciaFormLabel"
    aria-hidden="true"
  >
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="experienciaFormLabel">
            Experiencia Laboral
          </h5>
          <button
            type="button"
            class="btn-close"
            data-bs-dismiss="modal"
            aria-label="Close"
          ></button>
        </div>
        <div class="modal-body">
          <form [formGroup]="experienciaForm" (ngSubmit)="onSubmit()">
            <input type="hidden" name="id" formControlName="id" />

            <div class="row mb-3 greens-border-focus">
              <label for="empresa" class="col-sm-2 col-form-label"
                >Empresa</label
              >
              <div class="col-sm-10">
                <input
                  type="text"
                  name="empresa"
                  formControlName="empresa"
                  class="form-control"
                  required
                />
              </div>
            </div>

            <div class="row mb-3 greens-border-focus">
              <label for="task" class="col-sm-2 col-form-label">Tareas</label>
              <div class="col-sm-10">
                <textarea formControlName="task" class="form-control" rows="8" required></textarea>                
              </div>
            </div>

            <div class="row mb-3 greens-border-focus">
              <label for="img" class="col-sm-2 col-form-label">Imagen</label>
              <div class="col-sm-10">
                <input
                  type="text"
                  name="img"
                  formControlName="img"
                  class="form-control"
                  required
                />
              </div>
            </div>

            <div class="row mb-3 greens-border-focus">
              <label for="fechaStart" class="col-sm-2 col-form-label"
                >Fecha Start</label
              >
              <div class="col-sm-10">
                <input
                  type="text"
                  name="fechaStart"
                  formControlName="fechaStart"
                  class="form-control"
                  required
                />
              </div>
            </div>

            <div class="row mb-3 greens-border-focus">
              <label for="fechaEnd" class="col-sm-2 col-form-label"
                >Fecha End</label
              >
              <div class="col-sm-10">
                <input
                  type="text"
                  name="fechaEnd"
                  formControlName="fechaEnd"
                  class="form-control"
                  required
                />
              </div>
            </div>
            <div class="modal-footer">
              <button
                type="button"
                class="btn btn-secondary"
                data-bs-dismiss="modal"
              >
                Close
              </button>
              <button [disabled]="experienciaForm.invalid" type="submit" class="btn btn-primary">
                Save changes
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>

  <!--------------------------------Modalend----------------------------->

  <div class="container border section-border my-3">
    <div class="section-title">
      <h3 class="mx-5 my-4 section-title border-bottom">Experiencia</h3>
      <button
        class="btn btn-plus mx-5"
        data-bs-toggle="modal"
        data-bs-target="#experienciaForm" 
        (click)="nuevaExperiencia()"
        *ngIf="isUserLogged"
      >
        <i class="fa fa-plus"></i>
      </button>
    </div>
    <div *ngFor="let experiencia of experiencia_list; let i = index" class="row">
      <div class="col-2 my-3 mx-3 section-img">
        <a href="#">
          <img
            id="logoempresa"
            src="/assets/img/{{ experiencia.img }}"
            alt="Logo Empresa"
            class="img-fluid img-thumbnail"
          />
        </a>
      </div>
      <div class="col-8">
        <div class="section-item">
          <h4>{{ experiencia.empresa }}</h4>
          <div class="btn-editar">
            <button
              class="btn"
              data-bs-toggle="modal"
              data-bs-target="#experienciaForm"
              (click)="editarExperiencia(i)"
              *ngIf="isUserLogged"
            >
              <i class="fa fa-pen"></i>
            </button>
            <button class="btn" (click)="borrarExperiencia(i)" *ngIf="isUserLogged"><i class="fa fa-trash"></i></button>
          </div>
        </div>
        <h5 class="my-2">Tareas Desempe√±adas:</h5>
        <p class="mx-3">{{ experiencia.task }}</p>
        <p class="mx-3 border-bottom">
          <time>{{ experiencia.fechaStart }}</time> -
          <time>{{ experiencia.fechaEnd }}</time>
        </p>
      </div>
    </div>
  </div>
</div>
